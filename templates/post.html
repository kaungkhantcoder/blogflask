{% extends "base.html" %}
{% block content %}

<div id="confirm-delete"
     class="fixed inset-0 bg-black/60 backdrop-blur-md flex justify-center items-center opacity-0 pointer-events-none transition duration-300">

    <div class="bg-[#1e1e1e] text-white p-8 rounded-xl shadow-xl border border-white/10 w-80 scale-90 transition duration-300">
        <h2 class="text-xl font-bold text-red-400 mb-4">Delete Post?</h2>

        <p class="text-gray-300 text-sm mb-6">
            Are you sure you want to delete [ {{ post.title }} ]?
        </p>

        <div class="flex space-x-4">

            <form action="/delete/{{ post.id }}" method="post" class="w-1/2">
                <button class="w-full bg-red-600 hover:bg-red-700 py-2 rounded-md">
                    Yes
                </button>
            </form>

            <a href="/post/{{ post.id }}" class="w-1/2">
                <div class="bg-black hover:bg-black/50 py-2 rounded-md text-center">
                    Cancel
                </div>
            </a>
        </div>
    </div>
</div>


<style>

#confirm-delete:target {
    opacity: 1;
    pointer-events: auto;
}

#confirm-delete:target > div {
    transform: scale(1);
}
</style>

<div class="flex overflow-hidden bg-[#383838]">
  <img src="{{ post.image_path }}" class="w-[20rem] h-[20rem] object-cover">

  <div class="p-6">
    <h1 class="text-2xl font-bold">{{ post.title }}</h1>
    <p class="mt-4 text-gray-300 whitespace-pre-line">{{ post.content }}</p>

    <div class="mt-6 flex space-x-4">
      <form>
        <a href="/edit/{{ post.id }}" class="px-4 py-2 rounded-md bg-white text-black">Edit</a>
      </form>
      

      <form action="/delete/{{ post.id }}" method="post">
        <a href="#confirm-delete" class="px-4 py-2 rounded-md bg-black text-white">Delete</a>
      </form>
    </div>
  </div>
</div>

{% endblock %}
